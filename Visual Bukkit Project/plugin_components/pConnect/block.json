{"statements":[{"statements":[{"statements":[{"type":"stat-execute-procedure","params":["print",{"size":1,"type":"expr-immutable-list","params":[{"type":"expr-string","params":["Connecting... "],"uuid":"79ffd677-1ace-4f3b-b48f-d827aefb2654"}],"uuid":"8eaff9c5-e22f-4bc4-a46d-4b650159e303"}],"uuid":"d77a1c36-4b93-41f3-9efd-58414949bf3f"},{"type":"stat-set-local-variable","params":["options",{"type":"expr-method","params":["io.socket.client.SocketOptionBuilder","build()",{"type":"expr-method","params":["io.socket.client.SocketOptionBuilder","setExtraHeaders(java.util.Map)",{"type":"expr-method","params":["io.socket.client.SocketOptionBuilder","setTimeout(long)",{"type":"expr-method","params":["io.socket.client.SocketOptionBuilder","setReconnection(boolean)",{"type":"expr-method","params":["io.socket.client.SocketOptionBuilder","builder()"],"uuid":"195031aa-8659-42f5-985f-c1efecad6884"},{"type":"expr-boolean","params":["false"],"uuid":"dcf24bea-091a-439c-a888-5a5eb7320b5d"}],"uuid":"b4f1f31e-3147-41c9-9ec1-e866640c92c3"},{"type":"expr-number","params":["10000"],"uuid":"de5fd7b5-39d6-497e-b4fb-48775e8824a7"}],"uuid":"1c81ff43-2ebf-4d34-b1c5-c3f23356c457"},{"size":2,"type":"expr-hashmap","params":[{"type":"expr-string","params":["UUID"],"uuid":"c53997d8-3f65-41c1-b077-c3f131595413"},{"size":1,"type":"expr-immutable-list","params":[{"type":"expr-global-variable","params":[{"type":"expr-string","params":["uuid"],"uuid":"11592a88-25b1-4566-91e6-8904cee110e7"}],"uuid":"b9d99b22-eb83-4140-b364-f4a9d3d85252"}],"uuid":"0fc3791d-133b-4aab-b951-ff3a99036490"},{"type":"expr-string","params":["User-Agent"],"uuid":"e7cac63a-3699-4b54-9335-d9834d6b4802"},{"size":1,"type":"expr-immutable-list","params":[{"type":"expr-string","params":["dank.plugin"],"uuid":"ec227208-1d5b-4a49-b1a1-20841b7034eb"}],"uuid":"75c90b0b-fa23-4030-a827-8c3ebb311b77"}],"uuid":"a0c85d7a-e961-4d96-848a-bc83439d6959"}],"uuid":"3972cede-9850-4d61-92ac-57fc8e35bfc7"}],"uuid":"8a186c5c-1346-4253-aa8f-5beeb5f4fb8c"}],"uuid":"b6701ba9-6b7a-402b-a1d5-126ecd638381"},{"type":"stat-set-global-variable","params":[{"type":"expr-string","params":["socket"],"uuid":"6e64ddaa-64ef-47c0-9004-d58f68b8c3a9"},{"type":"expr-method","params":["io.socket.client.IO","socket(java.net.URI,io.socket.client.IO.Options)",{"type":"expr-method","params":["java.net.URI","create(java.lang.String)",{"type":"expr-string","params":["https://dankware.alwaysdata.net"],"uuid":"dcb9d4e5-d186-446c-a312-2cb68fd76c21"}],"uuid":"eb14bda7-30fa-4aa8-b2c6-cfd676a69a0f"},{"type":"expr-local-variable","params":["options"],"uuid":"33cc6ec1-da3e-4d1f-9513-273bcecf6469"}],"uuid":"247f0305-cbc9-45c3-b4c9-f5a36f3d57b4"}],"uuid":"cd4dc71e-d229-4c42-ae7c-2b6e5f7c00a0"},{"type":"stat-method","params":["io.socket.client.Socket","on(java.lang.String,io.socket.emitter.Emitter.Listener)",{"type":"expr-global-variable","params":[{"type":"expr-string","params":["socket"],"uuid":"add522c2-3ecb-4f70-a7cb-5d954e973e41"}],"uuid":"90db4379-7ed5-42f7-8897-e2c6f02f5c21"},{"type":"expr-field","params":["io.socket.client.Socket","EVENT_CONNECT"],"uuid":"f8a1faef-cfe6-49d7-b89a-a87e105e1595"},{"type":"expr-java-code","params":["Args -> {\n        try {\n            System.out.println(\"Connected!\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }"],"uuid":"990631f4-7e69-4b13-ac9f-027f1e2a9923"}],"uuid":"587fba90-b853-47e9-9fdc-afd7c48ed7b5"},{"type":"stat-method","params":["io.socket.client.Socket","on(java.lang.String,io.socket.emitter.Emitter.Listener)",{"type":"expr-global-variable","params":[{"type":"expr-string","params":["socket"],"uuid":"add522c2-3ecb-4f70-a7cb-5d954e973e41"}],"uuid":"90db4379-7ed5-42f7-8897-e2c6f02f5c21"},{"type":"expr-string","params":["message"],"uuid":"1776b701-8b4d-415f-8881-98934bdfd359"},{"type":"expr-java-code","params":["Args -> {\n    if (Args.length > 0 && Args[Args.length - 1] instanceof byte[]) {\n        try {\n            java.util.zip.Inflater inflater = new java.util.zip.Inflater();\n            inflater.setInput((byte[]) Args[Args.length - 1]);\n\n            byte[] buffer = new byte[1024];\n            StringBuilder result = new StringBuilder();\n\n            while (!inflater.finished()) {\n                int decompressedLength = inflater.inflate(buffer);\n                result.append(new String(buffer, 0, decompressedLength, \"UTF-8\"));\n            }\n\n            inflater.end();\n\n            String coloredMessage = ChatColor.translateAlternateColorCodes(\n                '&',\n                PluginMain.HEX_PATTERN\n                    .matcher(String.valueOf(PluginMain.function(\"ColorMessage\", List.of(result.toString()))))\n                    .replaceAll(\"&x&$1&$2&$3&$4&$5&$6\")\n            );\n\n            org.bukkit.Bukkit.broadcastMessage(coloredMessage);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    } else {\n        System.out.println(\"The last element in Args is not a byte array or Args is empty.\");\n    }\n}"],"uuid":"990631f4-7e69-4b13-ac9f-027f1e2a9923"}],"uuid":"2ddd8647-9fe2-4026-906d-edfc09916813"},{"type":"stat-method","params":["io.socket.client.Socket","connect()",{"type":"expr-global-variable","params":[{"type":"expr-string","params":["socket"],"uuid":"add522c2-3ecb-4f70-a7cb-5d954e973e41"}],"uuid":"7496753e-1966-41fc-aa4c-063e4755a718"}],"uuid":"83a3ff51-0fa5-478a-9f87-c4d24d94da4d"}],"type":"stat-attempt-execution","uuid":"6bb04084-5609-403f-8329-7cbfc88a59a8"},{"statements":[{"type":"stat-method","params":["java.lang.Exception","printStackTrace()",{"type":"expr-execution-exception","uuid":"d87ee89b-f50d-40ac-8fde-fb72e172d496"}],"uuid":"3f15dd5c-0f4c-49f3-bca4-0cf504d951be"}],"type":"stat-handle-exception","uuid":"d1e6752d-bcb6-428f-9b64-9072c5fa8801"}],"type":"stat-if-statement","params":[true,{"type":"expr-is-null","params":[{"type":"expr-global-variable","params":[{"type":"expr-string","params":["username"],"uuid":"4ac683b4-9a8b-4447-b3fb-65b7a6a1d9c4"}],"uuid":"303ced72-db0b-4d92-b97f-02a19470a24b"}],"uuid":"388aab4f-ec58-474f-9726-7ab65635053a"}],"uuid":"b7bba1f5-3d87-4537-b96d-db8020b38fed"},{"statements":[{"type":"stat-execute-procedure","params":["print",{"size":1,"type":"expr-immutable-list","params":[{"type":"expr-string","params":["Use /chatroom-login before trying to connect"],"uuid":"79ffd677-1ace-4f3b-b48f-d827aefb2654"}],"uuid":"8eaff9c5-e22f-4bc4-a46d-4b650159e303"}],"uuid":"55bb8c5c-277f-4362-abaf-1cd63e8266db"}],"type":"stat-else-statement","uuid":"e49b7b87-7787-4982-85cf-e86218727670"}],"type":"comp-procedure","uuid":"6bc57c7d-954d-4a56-b0b7-25a6797f01b0"}